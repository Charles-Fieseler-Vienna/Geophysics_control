
## Analysis of Geophysical Acoustic Emissions

## Getting started

There are two steps required:
* Run the setup_control_analysis.m file, or manually add the folders to your MATLAB path.
* Go to /src/ControlProject.m and change the "dat_foldername" property to point to the location of the data files.
  * In addition, if the subfolders are different than they appear in the dropbox, then the "dat_subfolders" array will need to be updated

## Overview of code structure

### src/
This folder includes the source code, which is split up into four folders:

* src/data
  * Source code for analysis of the data (paper_control_analysis.m) and for structuring a project (ControlProject.m)
  * Classical (non-control) analysis is in the file: paper_fft_analysis.m
  * These are organized to be run in sections marked with "%%", and will give an error if run directly
  * These will plot some examples, but NOT the paper figures
  * The main output of this section is intermediate products; See src/plot
* src/explore
  * Additional files similar to src/data, but not included in the paper 
* src/plot
  * Scripts for producing the paper figures (paper_plots.m), plus helper functions
  * Note that additional formatting was applied after output by MATLAB to achieve the final paper version
* src/util
  * Additional utility functions


### /intermediate/
This folder includes intermediate data products, some of which take hours (on my laptop) to reproduce. 
The analysis functions needed to reproduce these files are not included yet.

In addition, this contains example indices for the paper subpanels.


## Running the code

### AGU Plots
All of the plots should be reproducible via the various sections of Purdue_AGU_plots.m, once the "Getting Started" section has been completed.

### Intermediate data and analysis
The intermediate data need additional analysis functions that are not included yet. 


## Reproducing paper figures

All figures are generated by the script "paper_plots.m" 

In particular, the indices of the individual example waveforms are saved in the 'intermediate' folder, with 'figN_indices.mat' files corresponding to each of the three datasets.
Note that the 'mortar_all_raw_data.mat' files referenced here are not included.
